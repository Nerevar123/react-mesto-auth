{"version":3,"sources":["components/SaveButton.js","components/Form.js","components/Label.js","components/Register.js","components/Login.js","images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/hocs/ClosablePopup.js","components/hocs/ProtectedRoute.js","components/ImagePopup.js","components/PopupWithForm.js","components/ConfirmPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/utils.js","hooks/useFormWithValidation.js","components/App.js","index.js"],"names":["SaveButton","isDisabled","isSaving","isBlack","buttonText","className","cn","type","disabled","Form","name","children","onSubmit","method","noValidate","Label","placeholder","values","errors","props","label__input_type_error","label__input_theme_black","value","Register","validation","handleChange","isValid","resetForm","React","useEffect","e","preventDefault","console","log","isWhite","onChange","required","minLength","maxLength","to","Login","Header","button","src","logo","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onDeleteClick","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","onClick","link","length","style","display","Main","cards","avatar","onEditAvatar","onEditProfile","about","onAddPlace","map","Footer","ClosablePopup","rest","closeModalWithEsc","key","onClose","closeModalWithClick","target","classList","contains","document","addEventListener","removeEventListener","cloneElement","ProtectedRoute","loggedIn","ImagePopup","modal_opened","PopupWithForm","title","isOpen","ConfirmPopup","onConfirm","EditProfilePopup","onUpdateUser","setIsValid","nickname","description","pattern","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkError","info","body","JSON","stringify","id","authorization","useFormWithValidation","useState","setValues","setErrors","useCallback","newValues","newErrors","newIsValid","validationMessage","closest","checkValidity","App","setCurrentUser","setCards","isEditProfilePopupOpen","setEditProfileClick","isAddPlacePopupOpen","setAddPlaceClick","isEditAvatarPopupOpen","setEditAvatarClick","isConfirmPopupOpen","setConfirmClick","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setIsSaving","isLoggedIn","setIsLoggedIn","closeAllPopups","all","getInitCards","getUserInfo","user","catch","err","Provider","path","handleLogin","exact","changeLikeCardStatus","newCard","newCards","c","patchUserInfo","finally","addCard","patchAvatar","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2bfa929b.chunk.js","sourcesContent":["import React from \"react\";\nimport cn from \"classnames\";\n\nfunction SaveButton({ isDisabled, isSaving, isBlack, buttonText }) {\n  return (\n    <button\n      className={cn(\n        \"save-btn\",\n        \"button\",\n        { \"save-btn_disabled\": isDisabled },\n        { \"save-btn_theme_black\": isBlack }\n      )}\n      type=\"submit\"\n      disabled={isDisabled}\n    >\n      {isSaving ? \"Загрузка...\" : buttonText}\n    </button>\n  );\n}\n\nexport default SaveButton;\n","import React from \"react\";\nimport SaveButton from \"./SaveButton\";\n\nfunction Form({\n  name,\n  children,\n  onSubmit,\n  isDisabled,\n  isSaving,\n  isBlack,\n  buttonText,\n}) {\n  return (\n    <form\n      className=\"form\"\n      name={name}\n      method=\"GET\"\n      noValidate\n      onSubmit={onSubmit}\n    >\n      {children}\n      <SaveButton\n        buttonText={buttonText}\n        isDisabled={isDisabled}\n        isSaving={isSaving}\n        isBlack={isBlack}\n      />\n    </form>\n  );\n}\n\nexport default Form;\n","import React from \"react\";\nimport cn from \"classnames\";\n\nfunction Label({ name, placeholder, isBlack, values, errors, ...props }) {\n  return (\n    <label className=\"label\">\n      <input\n        name={name}\n        className={cn(\"label__input\", {\n          label__input_type_error: errors[name],\n          label__input_theme_black: isBlack,\n        })}\n        value={values[name] || \"\"}\n        {...props}\n      />\n      <span\n        className={cn(\"label__placeholder\", {\n          \"label__placeholder_is-fixed\": values[name],\n        })}\n      >\n        {placeholder}\n      </span>\n      <span\n        className={cn(\"label__error\", {\n          \"label__error_active\": errors[name],\n        })}\n      >\n        {errors[name] || \"\"}\n      </span>\n    </label>\n  );\n}\n\nexport default Label;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Form from \"./Form\";\nimport Label from \"./Label\";\n\nfunction Register({ validation, isSaving }) {\n  const { values, errors, handleChange, isValid, resetForm } = validation;\n\n  React.useEffect(() => {\n    resetForm();\n  }, [resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(values);\n    resetForm();\n  }\n\n  return (\n    <section className=\"login\">\n      <h2 className=\"login__title\">Регистрация</h2>\n      <Form\n        name=\"nickname\"\n        onSubmit={handleSubmit}\n        isDisabled={!isValid}\n        isSaving={isSaving}\n        isWhite={true}\n        buttonText=\"Зарегистрироваться\"\n        children={\n          <fieldset className=\"login__fields\">\n            <Label\n              values={values}\n              onChange={handleChange}\n              errors={errors}\n              name=\"email\"\n              placeholder=\"Email\"\n              isBlack\n              type=\"email\"\n              required\n            />\n            <Label\n              values={values}\n              onChange={handleChange}\n              errors={errors}\n              name=\"password\"\n              placeholder=\"Пароль\"\n              isBlack\n              type=\"password\"\n              required\n              minLength=\"4\"\n              maxLength=\"16\"\n            />\n          </fieldset>\n        }\n      ></Form>\n      <p className=\"login__text\">\n        Уже зарегистрированы?{\" \"}\n        <Link to=\"/sign-in\" className=\"login__link link\">\n          Войти\n        </Link>\n      </p>\n    </section>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport Form from \"./Form\";\nimport Label from \"./Label\";\n\nfunction Login({ validation, isSaving }) {\n  const { values, errors, handleChange, isValid, resetForm } = validation;\n\n  React.useEffect(() => {\n    resetForm();\n  }, [resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(values);\n    resetForm();\n  }\n\n  return (\n    <section className=\"login\">\n      <h2 className=\"login__title\">Вход</h2>\n      <Form\n        name=\"nickname\"\n        onSubmit={handleSubmit}\n        isDisabled={!isValid}\n        isSaving={isSaving}\n        isBlack={true}\n        buttonText=\"Войти\"\n        children={\n          <fieldset className=\"login__fields\">\n            <Label\n              values={values}\n              onChange={handleChange}\n              errors={errors}\n              name=\"email\"\n              placeholder=\"Email\"\n              isBlack\n              type=\"email\"\n              required\n            />\n            <Label\n              values={values}\n              onChange={handleChange}\n              errors={errors}\n              name=\"password\"\n              placeholder=\"Пароль\"\n              isBlack\n              type=\"password\"\n              required\n              minLength=\"4\"\n            />\n          </fieldset>\n        }\n      ></Form>\n    </section>\n  );\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from \"react\";\nimport logo from \"../images/header-logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header({ button }) {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Mesto логотип\" className=\"header__logo\" />\n      {button === \"login\" && (\n        <Link to=\"/sign-in\" className=\"header__link link\">\n          Войти\n        </Link>\n      )}\n      {button === \"register\" && (\n        <Link to=\"/sign-up\" className=\"header__link link\">\n          Регистрация\n        </Link>\n      )}\n      {button === \"isLogged\" && (\n        <div className=\"header__text-container\">\n          <span className=\"header__name\">email@mail.com</span>\n          <Link\n            to=\"/sign-up\"\n            className=\"header__link header__link_type_logout link\"\n          >\n            Выйти\n          </Link>\n        </div>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onDeleteClick }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onDeleteClick(card);\n  }\n\n  return (\n    <li className=\"place\">\n      <div className=\"place__img-wrapper\" onClick={handleClick}>\n        <img src={card.link} alt={card.name} className=\"place__image\" />\n      </div>\n      <div className=\"place__header\">\n        <h3 className=\"place__title\">{card.name}</h3>\n        <div className=\"place__like\">\n          <button\n            className={cn(\"place__like-btn\", \"button\", {\n              \"place__like-btn_active\": isLiked,\n            })}\n            type=\"button\"\n            onClick={handleLikeClick}\n          ></button>\n          <span className=\"place__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n      <button\n        className=\"place__delete-btn button\"\n        type=\"button\"\n        style={isOwn ? {} : { display: \"none\" }}\n        onClick={handleDeleteClick}\n      ></button>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  if (props.cards.length === 0) {\n    return (\n      <section className=\"profile\">\n        <h1 className=\"profile__loading\">Loading...</h1>\n      </section>\n    )\n  }\n\n   return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-box\">\n          <img src={currentUser.avatar} alt=\"Фото профиля\" className=\"profile__avatar button\" />\n          <button className=\"profile__avatar-btn button\" type=\"button\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__title\">\n          <div className=\"profile__heading\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button className=\"profile__edit-btn button\" type=\"button\" onClick={props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__desc\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-btn button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {props.cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onDeleteClick={props.onDeleteClick}\n              />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ClosablePopup(props) {\n  const { children, ...rest } = props;\n\n  React.useEffect(() => {\n    function closeModalWithEsc(e) {\n      if (e.key === \"Escape\") {\n        children.props.onClose();\n      }\n    }\n\n    function closeModalWithClick(e) {\n      if (e.target.classList.contains(\"modal\")) {\n        children.props.onClose();\n      }\n    }\n\n    document.addEventListener(\"mousedown\", closeModalWithClick);\n    document.addEventListener(\"keydown\", closeModalWithEsc);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", closeModalWithClick);\n      document.removeEventListener(\"keydown\", closeModalWithEsc);\n    };\n  }, [children]);\n\n  return <>{React.cloneElement(children, { ...rest })}</>;\n}\n\nexport default ClosablePopup;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute(props) {\n  const { children, ...rest } = props;\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? (\n          <>{React.cloneElement(children, { ...rest })}</>\n        ) : (\n          <Redirect to=\"./sign-in\" />\n        )\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport cn from \"classnames\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <section\n      className={cn(\"modal\", \"modal_type_lightbox\", {\n        modal_opened: card.link,\n      })}\n    >\n      <div className=\"modal__lightbox\">\n        <figure className=\"modal__figure\">\n          <img src={card.link} alt={card.link} className=\"modal__image\" />\n          <figcaption className=\"modal__caption\">{card.name}</figcaption>\n        </figure>\n        <button\n          className=\"modal__close-btn button\"\n          type=\"button\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport Form from \"./Form\";\nimport cn from \"classnames\";\n\nfunction PopupWithForm({\n  title,\n  name,\n  buttonText = \"Сохранить\",\n  isOpen,\n  onClose,\n  onSubmit,\n  isSaving,\n  children,\n  isDisabled = false,\n}) {\n  return (\n    <section\n      className={cn(\"modal\", `modal_type_${name}`, {\"modal_opened\": isOpen})}\n    >\n      <div className=\"modal__container\">\n        <h3 className=\"modal__title\">{title}</h3>\n        <Form\n          name={name}\n          onSubmit={onSubmit}\n          isDisabled={isDisabled}\n          isSaving={isSaving}\n          buttonText={buttonText}\n          children={children}\n        ></Form>\n        <button\n          className=\"modal__close-btn button\"\n          type=\"button\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmPopup({ isOpen, onClose, isSaving, onConfirm }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onConfirm();\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"confirm\"\n      buttonText=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n    />\n  );\n}\n\nexport default ConfirmPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Label from \"./Label\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  isSaving,\n  validation,\n}) {\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    setIsValid,\n    resetForm,\n  } = validation;\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser) {\n      resetForm({\n        nickname: currentUser.name,\n        description: currentUser.about,\n      });\n      setIsValid(true);\n    }\n  }, [currentUser, resetForm, setIsValid]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name: values.nickname || \"\",\n      about: values.description || \"\",\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"title\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isDisabled={!isValid}\n      children={\n        <fieldset className=\"form__fields\">\n          <Label\n            values={values}\n            onChange={handleChange}\n            errors={errors}\n            name=\"nickname\"\n            placeholder=\"Имя\"\n            type=\"text\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            pattern=\"[a-zA-Zа-яА-Я -]{1,}\"\n          />\n          <Label\n            values={values}\n            onChange={handleChange}\n            errors={errors}\n            name=\"description\"\n            placeholder=\"О себе\"\n            type=\"text\"\n            required\n            minLength=\"2\"\n            maxLength=\"200\"\n          />\n        </fieldset>\n      }\n    />\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Label from \"./Label\";\n\nfunction EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  isSaving,\n  validation,\n}) {\n  const { values, handleChange, errors, isValid, resetForm } = validation;\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: values.avatar || \"\",\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      buttonText=\"Обновить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isDisabled={!isValid}\n      children={\n        <Label\n          values={values}\n          onChange={handleChange}\n          errors={errors}\n          name=\"avatar\"\n          placeholder=\"Ссылка на аватар\"\n          type=\"url\"\n          required\n        />\n      }\n    />\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Label from \"./Label\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isSaving, validation }) {\n  const { values, handleChange, errors, isValid, resetForm } = validation;\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: values.name || \"\",\n      link: values.link || \"\",\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"place\"\n      buttonText=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isDisabled={!isValid}\n      children={\n        <fieldset className=\"form__fields\">\n          <Label\n            values={values}\n            onChange={handleChange}\n            errors={errors}\n            name=\"name\"\n            placeholder=\"Название\"\n            type=\"text\"\n            required\n            minLength=\"2\"\n            maxLength=\"30\"\n          />\n          <Label\n            values={values}\n            onChange={handleChange}\n            errors={errors}\n            name=\"link\"\n            placeholder=\"Ссылка на картинку\"\n            type=\"url\"\n            required\n          />\n        </fieldset>\n      }\n    />\n  );\n}\n\nexport default AddPlacePopup;\n","import { apiOptions } from './utils';\n\nexport default class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Error: ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n      })\n      .then(this._checkError);\n  }\n\n  getInitCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n      })\n      .then(this._checkError);\n  }\n\n  patchUserInfo(info) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(info)\n    })\n    .then(this._checkError);\n  }\n\n  addCard(card) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(card)\n    })\n    .then(this._checkError);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._checkError);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: this._headers\n        })\n        .then(this._checkError);\n    } else {\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: this._headers\n        })\n        .then(this._checkError);\n    }\n  }\n\n  patchAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    })\n    .then(this._checkError);\n  }\n}\n\nexport const api = new Api(apiOptions);\n","export const apiOptions = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-15',\n  headers: {\n    authorization: '793e9e42-5ad3-4803-88e8-acbb4feac8c0',\n    'Content-Type': 'application/json'\n  }\n};\n","import React from \"react\";\n\nfunction useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (e) => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    setValues({...values, [name]: value});\n    setErrors({...errors, [name]: target.validationMessage });\n    setIsValid(target.closest(\"form\").checkValidity());\n  };\n\n  const resetForm = React.useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, errors, isValid, setIsValid, resetForm };\n}\n\nexport default useFormWithValidation;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ClosablePopup from \"./hocs/ClosablePopup\";\nimport ProtectedRoute from \"./hocs/ProtectedRoute\";\nimport ImagePopup from \"./ImagePopup\";\nimport ConfirmPopup from \"./ConfirmPopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { api } from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport useFormWithValidation from \"../hooks/useFormWithValidation\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState();\n  const [cards, setCards] = React.useState([]);\n  const [isEditProfilePopupOpen, setEditProfileClick] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlaceClick] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarClick] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmClick] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [deletedCard, setDeletedCard] = React.useState({});\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(true);\n\n  React.useEffect(() => {\n    Promise.all([api.getInitCards(), api.getUserInfo()])\n      .then(([cards, user]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleEditProfileClick() {\n    setEditProfileClick(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlaceClick(true);\n  }\n\n  function handleDeleteClick(card) {\n    setConfirmClick(true);\n    setDeletedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarClick(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete() {\n    setIsSaving(true);\n    api\n      .deleteCard(deletedCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deletedCard._id);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateUser(user) {\n    setIsSaving(true);\n    api\n      .patchUserInfo(user)\n      .then((user) => setCurrentUser(user))\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups());\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsSaving(true);\n    api\n      .patchAvatar(avatar)\n      .then((avatar) => setCurrentUser(avatar))\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups());\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsSaving(true);\n    api\n      .addCard(card)\n      .then((card) => setCards([card, ...cards]))\n      .catch((err) => console.log(err))\n      .finally(() => closeAllPopups());\n  }\n\n  function closeAllPopups() {\n    setEditProfileClick(false);\n    setAddPlaceClick(false);\n    setEditAvatarClick(false);\n    setConfirmClick(false);\n    setSelectedCard({});\n    setDeletedCard({});\n    setIsSaving(false);\n  }\n\n  function handleLogin() {\n    setIsLoggedIn(!isLoggedIn);\n  }\n\n  const validation = useFormWithValidation();\n\n  return (\n    <div className=\"page__content\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <Route path=\"/sign-up\">\n            <>\n              <Header button=\"login\" />\n              <Register validation={validation} />\n            </>\n          </Route>\n          <Route path=\"/sign-in\">\n            <>\n              <Header button=\"register\" />\n              <Login handleLogin={handleLogin} validation={validation} />\n            </>\n          </Route>\n          <ProtectedRoute exact path=\"/\" loggedIn={isLoggedIn}>\n            <>\n              <Header button=\"isLogged\" />\n              <Main\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onDeleteClick={handleDeleteClick}\n              />\n              <Footer />\n            </>\n          </ProtectedRoute>\n        </Switch>\n        {isEditProfilePopupOpen ? (\n          <ClosablePopup>\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n              isSaving={isSaving}\n              validation={validation}\n            />\n          </ClosablePopup>\n        ) : (\n          \"\"\n        )}\n        {isAddPlacePopupOpen ? (\n          <ClosablePopup>\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit}\n              isSaving={isSaving}\n              validation={validation}\n            />\n          </ClosablePopup>\n        ) : (\n          \"\"\n        )}\n        {isEditAvatarPopupOpen ? (\n          <ClosablePopup>\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n              isSaving={isSaving}\n              validation={validation}\n            />\n          </ClosablePopup>\n        ) : (\n          \"\"\n        )}\n        {selectedCard.link ? (\n          <ClosablePopup>\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          </ClosablePopup>\n        ) : (\n          \"\"\n        )}\n        {isConfirmPopupOpen ? (\n          <ClosablePopup>\n            <ConfirmPopup\n              isOpen={isConfirmPopupOpen}\n              onClose={closeAllPopups}\n              onConfirm={handleCardDelete}\n              isSaving={isSaving}\n            />\n          </ClosablePopup>\n        ) : (\n          \"\"\n        )}\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}
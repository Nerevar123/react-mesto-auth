{"version":3,"sources":["components/Register.js","hooks/useFormWithValidation.js","components/Label.js","components/SaveButton.js","components/Login.js","images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/hocs/ClosablePopup.js","components/hocs/ProtectedRoute.js","components/ImagePopup.js","components/PopupWithForm.js","components/ConfirmPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/utils.js","components/App.js","index.js"],"names":["Register","className","useFormWithValidation","React","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","target","value","name","validationMessage","closest","checkValidity","console","log","Label","placeholder","isBlack","props","cn","input_type_error","input_theme_black","onChange","SaveButton","isDisabled","isSaving","isWhite","buttonText","type","disabled","Login","useEffect","method","action","noValidate","onSubmit","preventDefault","required","minLength","maxLength","pattern","to","Header","src","logo","alt","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","link","onCardLike","length","style","display","onDeleteClick","Main","cards","avatar","onEditAvatar","onEditProfile","about","onAddPlace","map","Footer","ClosablePopup","children","rest","closeModalWithEsc","key","onClose","closeModalWithClick","classList","contains","document","addEventListener","removeEventListener","cloneElement","ProtectedRoute","loggedIn","ImagePopup","PopupWithForm","title","isOpen","ConfirmPopup","onConfirm","EditProfilePopup","onUpdateUser","nickname","description","EditAvatarPopup","onUpdateAvatar","id","AddPlacePopup","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkError","info","body","JSON","stringify","authorization","App","setCurrentUser","setCards","isEditProfilePopupOpen","setEditProfileClick","isAddPlacePopupOpen","setAddPlaceClick","isEditAvatarPopupOpen","setEditAvatarClick","isConfirmPopupOpen","setConfirmClick","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setIsSaving","isLoggedIn","setIsLoggedIn","closeAllPopups","all","getInitCards","getUserInfo","user","catch","err","Provider","path","handleLogin","exact","changeLikeCardStatus","newCard","newCards","c","patchUserInfo","finally","addCard","patchAvatar","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.80735bc8.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Register() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\n\nfunction useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (e) => {\n    const target = e.target;\n    const value = target.value;\n    const name = target.name;\n    setValues({...values, [name]: value});\n    setErrors({...errors, [name]: target.validationMessage });\n    setIsValid(target.closest(\"form\").checkValidity());\n    console.log(values)\n  };\n\n  const resetForm = React.useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, errors, isValid, setIsValid, resetForm };\n}\n\nexport default useFormWithValidation;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport useFormWithValidation from '../hooks/useFormWithValidation';\n\nfunction Label({ name, placeholder, isBlack, ...props }) {\n  const { values, errors, handleChange } = useFormWithValidation();\n\n  return (\n    <label className=\"modal__field\">\n      <input\n        name={name}\n        className={cn(\"input\", {\n          input_type_error: errors[name],\n          input_theme_black: isBlack,\n\n        })}\n        value={values[name] || \"\"}\n        onChange={handleChange}\n        {...props}\n      />\n      <span\n        className={cn(\"modal__placeholder\", {\n          \"modal__placeholder_is-fixed\": values[name],\n        })}\n      >\n        {placeholder}\n      </span>\n      <span\n        className={cn(\"modal__input-error\", {\n          \"modal__input-error_active\": errors[name],\n        })}\n      >\n        {errors[name] || \"\"}\n      </span>\n    </label>\n  );\n}\n\nexport default Label;\n","import React from \"react\";\nimport cn from \"classnames\";\n\nfunction SaveButton({ isDisabled, isSaving, isWhite, buttonText }) {\n  return (\n    <button\n      className={cn(\n        \"save-btn\",\n        \"button\",\n        { \"save-btn_disabled\": isDisabled },\n        { \"save-btn_theme_white\": isWhite }\n      )}\n      type=\"submit\"\n      disabled={isDisabled}\n    >\n      {isSaving ? \"Загрузка...\" : buttonText}\n    </button>\n  );\n}\n\nexport default SaveButton;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Label from \"./Label\";\nimport SaveButton from \"./SaveButton\";\nimport cn from \"classnames\";\nimport useFormWithValidation from \"../hooks/useFormWithValidation\";\n\nfunction Login() {\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    setIsValid,\n    resetForm,\n  } = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(values);\n  }\n\n  return (\n    <section className=\"login\">\n      <h2 className=\"login__title\">Регистрация</h2>\n      <form\n        className=\"modal__form\"\n        name=\"nickname\"\n        method=\"GET\"\n        action=\"#\"\n        noValidate\n        onSubmit={handleSubmit}\n      >\n        <fieldset className=\"login__fields\">\n          <Label\n            name=\"nickname\"\n            placeholder=\"Email\"\n            isBlack\n            type=\"text\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\"\n            pattern=\"[a-zA-Zа-яА-Я -]{1,}\"\n          />\n          <Label name=\"avatar\" placeholder=\"Пароль\" isBlack type=\"url\" required />\n        </fieldset>\n        <SaveButton\n          buttonText=\"Зарегистрироваться\"\n          isDisabled={false}\n          isSaving={false}\n          isWhite\n        />\n        <p className=\"login__text\">\n          Уже зарегистрированы?{\" \"}\n          <Link to=\"/sign-up\" className=\"login__link\">\n            Войти\n          </Link>\n        </p>\n      </form>\n    </section>\n  );\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\nimport logo from '../images/header-logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Mesto логотип\" className=\"header__logo\" />\n      <button className=\"button\" type=\"button\">Войти</button>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName  = (\n    `place__like-btn button ${isLiked ? 'place__like-btn_active' : ''}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  };\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  };\n\n  function handleDeleteClick() {\n    props.onDeleteClick(props.card);\n  };\n\n  return (\n    <li className=\"place\">\n      <div className=\"place__img-wrapper\" onClick={handleClick}>\n        <img src={props.card.link} alt={props.card.name} className=\"place__image\" />\n      </div>\n      <div className=\"place__header\">\n        <h3 className=\"place__title\">{props.card.name}</h3>\n        <div className=\"place__like\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <span className=\"place__like-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n      <button className=\"place__delete-btn button\" type=\"button\" style={isOwn ? {} : {display: 'none'}} onClick={handleDeleteClick}></button>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  if (props.cards.length === 0) {\n    return (\n      <section className=\"profile\">\n        <h1 className=\"profile__loading\">Loading...</h1>\n      </section>\n    )\n  }\n\n   return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-box\">\n          <img src={currentUser.avatar} alt=\"Фото профиля\" className=\"profile__avatar button\" />\n          <button className=\"profile__avatar-btn button\" type=\"button\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__title\">\n          <div className=\"profile__heading\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button className=\"profile__edit-btn button\" type=\"button\" onClick={props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__desc\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-btn button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {props.cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onDeleteClick={props.onDeleteClick}\n              />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ClosablePopup(props) {\n  const {children, ...rest} = props;\n\n  React.useEffect(() => {\n    function closeModalWithEsc(e) {\n      if (e.key === \"Escape\") {\n        children.props.onClose();\n      }\n    };\n\n    function closeModalWithClick(e) {\n      if (e.target.classList.contains('modal')) {\n        children.props.onClose();\n      }\n    };\n\n    document.addEventListener('mousedown', closeModalWithClick);\n    document.addEventListener('keydown', closeModalWithEsc);\n\n    return () => {\n      document.removeEventListener('mousedown', closeModalWithClick);\n      document.removeEventListener('keydown', closeModalWithEsc);\n    };\n  }, [children]);\n\n  return (\n    <>\n    {React.cloneElement(children, {...rest})}\n    </>\n  );\n}\n\nexport default ClosablePopup;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute(props) {\n  const {children, ...rest} = props;\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? (\n          <>{React.cloneElement(children, { ...rest })}</>\n        ) : (\n          <Redirect to=\"./sign-in\" />\n        )\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <section className={`modal modal_type_lightbox ${props.card.link ? 'modal_opened' : ''}`}>\n      <div className=\"modal__lightbox\">\n        <figure className=\"modal__figure\">\n          <img src={props.card.link} alt={props.card.link} className=\"modal__image\" />\n          <figcaption className=\"modal__caption\">{props.card.name}</figcaption>\n        </figure>\n        <button className=\"modal__close-btn button\" type=\"button\" onClick={props.onClose}></button>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm({\n  title,\n  name,\n  buttonText = 'Сохранить',\n  isOpen,\n  onClose,\n  onSubmit,\n  isSaving,\n  children,\n  isDisabled = false,\n}) {\n  return (\n    <section className={`modal modal_type_${name} ${isOpen ? 'modal_opened' : ''}`}>\n      <div className=\"modal__container\">\n        <h3 className=\"modal__title\">{title}</h3>\n        <form className=\"modal__form\" name={name} method=\"GET\" action=\"#\" noValidate onSubmit={onSubmit}>\n          {children}\n          <button className={`modal__save-btn button ${isDisabled && \"modal__save-btn_disabled\"}`} type=\"submit\" disabled={isDisabled}>{isSaving ? 'Загрузка...' : buttonText}</button>\n        </form>\n        <button className=\"modal__close-btn button\" type=\"button\" onClick={onClose}></button>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmPopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onConfirm();\n  };\n\n  return (\n  <PopupWithForm\n    title=\"Вы уверены?\"\n    name=\"confirm\"\n    buttonText=\"Да\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isSaving={props.isSaving}\n  />\n  );\n}\n\nexport default ConfirmPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport useFormWithValidation from '../hooks/useFormWithValidation';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSaving }) {\n  const {values, handleChange, errors, isValid, setIsValid, resetForm} = useFormWithValidation();\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser) {\n      resetForm({\n        nickname: currentUser.name,\n        description: currentUser.about});\n      setIsValid(true);\n    }\n  }, [currentUser, resetForm, setIsValid]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name: values.nickname || '',\n      about: values.description || '',\n    });\n  };\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"title\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isDisabled={!isValid}\n      children={(\n        <fieldset className=\"modal__fields\">\n          <label className=\"modal__field\">\n            <input type=\"text\" className={`modal__input ${errors.nickname && \"modal__input_type_error\"}`}\n                   name=\"nickname\" required minLength=\"2\" maxLength=\"40\"\n                   pattern=\"[a-zA-Zа-яА-Я -]{1,}\" value={values.nickname || ''} onChange={handleChange} />\n            <span className={`modal__placeholder ${values.nickname && \"modal__placeholder_is-fixed\"}`}>Имя</span>\n            <span className={`modal__input-error ${errors.nickname && \"modal__input-error_active\"}`}>{errors.nickname || ''}</span>\n          </label>\n          <label className=\"modal__field\">\n            <input type=\"text\" className={`modal__input ${errors.description && \"modal__input_type_error\"}`}\n                   name=\"description\" required minLength=\"2\" maxLength=\"200\"\n                   value={values.description || ''} onChange={handleChange} />\n            <span className={`modal__placeholder ${values.description && \"modal__placeholder_is-fixed\"}`}>О себе</span>\n            <span className={`modal__input-error ${errors.description && \"modal__input-error_active\"}`}>{errors.description || ''}</span>\n          </label>\n        </fieldset>\n      )}\n    />\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport useFormWithValidation from '../hooks/useFormWithValidation';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSaving }) {\n  const {values, handleChange, errors, isValid, resetForm} = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: values.avatar || '',\n    });\n  };\n\n  return (\n  <PopupWithForm\n    title=\"Обновить аватар\"\n    name=\"avatar\"\n    buttonText=\"Обновить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isDisabled={!isValid}\n    children={(\n      <label className=\"modal__field\">\n        <input type=\"url\" className={`modal__input ${errors.avatar && \"modal__input_type_error\"}`}\n               name=\"avatar\" id=\"avatar-input\" required value={values.avatar || ''} onChange={handleChange} />\n        <span className={`modal__placeholder ${values.avatar && \"modal__placeholder_is-fixed\"}`} id=\"avatar-input-placeholder\">Ссылка на аватар</span>\n        <span id=\"avatar-input-error\" className={`modal__input-error ${errors.avatar && \"modal__input-error_active\"}`}>{errors.avatar || ''}</span>\n      </label>\n    )}\n  />\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport useFormWithValidation from '../hooks/useFormWithValidation';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isSaving }) {\n  const {values, handleChange, errors, isValid, resetForm} = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: values.name || '',\n      link: values.link || '',\n    });\n  };\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"place\"\n      buttonText=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isDisabled={!isValid}\n      children={(\n        <fieldset className=\"modal__fields\">\n          <label className=\"modal__field\">\n            <input type=\"text\" className={`modal__input ${errors.name && \"modal__input_type_error\"}`}\n                   name=\"name\" id=\"place-input\" required minLength=\"2\" maxLength=\"30\"\n                   value={values.name || ''} onChange={handleChange} />\n            <span className={`modal__placeholder ${values.name && \"modal__placeholder_is-fixed\"}`} id=\"place-input-placeholder\">Название</span>\n            <span id=\"name-input-error\" className={`modal__input-error ${errors.name && \"modal__input-error_active\"}`}>{errors.name || ''}</span>\n          </label>\n          <label className=\"modal__field\">\n            <input type=\"url\" className={`modal__input ${errors.link && \"modal__input_type_error\"}`}\n                  name=\"link\" id=\"link-input\" required value={values.link || ''} onChange={handleChange}/>\n            <span className={`modal__placeholder ${values.link && \"modal__placeholder_is-fixed\"}`} id=\"link-input-placeholder\">Ссылка на картинку</span>\n            <span id=\"link-input-error\" className={`modal__input-error ${errors.link && \"modal__input-error_active\"}`}>{errors.link || ''}</span>\n          </label>\n        </fieldset>\n      )}\n    />\n  );\n}\n\nexport default AddPlacePopup;\n","import { apiOptions } from './utils';\n\nexport default class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Error: ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n      })\n      .then(this._checkError);\n  }\n\n  getInitCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n      })\n      .then(this._checkError);\n  }\n\n  patchUserInfo(info) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(info)\n    })\n    .then(this._checkError);\n  }\n\n  addCard(card) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(card)\n    })\n    .then(this._checkError);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._checkError);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: this._headers\n        })\n        .then(this._checkError);\n    } else {\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: this._headers\n        })\n        .then(this._checkError);\n    }\n  }\n\n  patchAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    })\n    .then(this._checkError);\n  }\n}\n\nexport const api = new Api(apiOptions);\n","export const apiOptions = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-15',\n  headers: {\n    authorization: '793e9e42-5ad3-4803-88e8-acbb4feac8c0',\n    'Content-Type': 'application/json'\n  }\n};\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Register from './Register';\nimport Login from './Login';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ClosablePopup from './hocs/ClosablePopup';\nimport ProtectedRoute from './hocs/ProtectedRoute';\nimport ImagePopup from './ImagePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState();\n  const [cards, setCards] = React.useState([]);\n  const [isEditProfilePopupOpen, setEditProfileClick] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlaceClick] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarClick] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmClick] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [deletedCard, setDeletedCard] = React.useState({});\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(true);\n\n  React.useEffect(() => {\n    Promise.all([api.getInitCards(),api.getUserInfo()])\n    .then(([ cards, user ]) => {\n      setCurrentUser(user);\n      setCards(cards);\n    })\n    .catch(err => console.log(err))\n  }, []);\n\n  function handleEditProfileClick() {\n    setEditProfileClick(true);\n  };\n\n  function handleAddPlaceClick() {\n    setAddPlaceClick(true);\n  };\n\n  function handleDeleteClick(card) {\n    setConfirmClick(true);\n    setDeletedCard(card);\n  };\n\n  function handleEditAvatarClick() {\n    setEditAvatarClick(true);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards)\n    })\n    .catch(err => console.log(err))\n  };\n\n  function handleCardDelete() {\n    setIsSaving(true);\n    api.deleteCard(deletedCard._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== deletedCard._id);\n      setCards(newCards);\n    })\n    .catch(err => console.log(err))\n    .finally(() => closeAllPopups());\n  };\n\n  function handleUpdateUser(user) {\n    setIsSaving(true);\n    api.patchUserInfo(user)\n    .then((user) => setCurrentUser(user))\n    .catch(err => console.log(err))\n    .finally(() => closeAllPopups());\n  };\n\n  function handleUpdateAvatar(avatar) {\n    setIsSaving(true);\n    api.patchAvatar(avatar)\n    .then((avatar) => setCurrentUser(avatar))\n    .catch(err => console.log(err))\n    .finally(() => closeAllPopups());\n  };\n\n  function handleAddPlaceSubmit(card) {\n    setIsSaving(true);\n    api.addCard(card)\n    .then((card) => setCards([card, ...cards]))\n    .catch(err => console.log(err))\n    .finally(() => closeAllPopups());\n  };\n\n  function closeAllPopups() {\n    setEditProfileClick(false);\n    setAddPlaceClick(false);\n    setEditAvatarClick(false);\n    setConfirmClick(false);\n    setSelectedCard({});\n    setDeletedCard({});\n    setIsSaving(false);\n  };\n\n  function handleLogin() {\n    setIsLoggedIn(!isLoggedIn);\n  };\n\n  return (\n    <div className=\"page__content\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Register />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n          <ProtectedRoute exact path=\"/\" loggedIn={isLoggedIn}>\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onDeleteClick={handleDeleteClick}\n          />\n          <Footer />\n          </ProtectedRoute>\n        </Switch>\n        {isEditProfilePopupOpen ?\n          <ClosablePopup>\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n              isSaving={isSaving}\n            />\n          </ClosablePopup>\n        : ''}\n        {isAddPlacePopupOpen ?\n          <ClosablePopup>\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit}\n              isSaving={isSaving}\n            />\n          </ClosablePopup>\n        : ''}\n        {isEditAvatarPopupOpen ?\n          <ClosablePopup>\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n              isSaving={isSaving}\n            />\n          </ClosablePopup>\n        : ''}\n        {selectedCard.link ?\n        <ClosablePopup>\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n          </ClosablePopup>\n        : ''}\n        {isConfirmPopupOpen ?\n          <ClosablePopup>\n            <ConfirmPopup\n              isOpen={isConfirmPopupOpen}\n              onClose={closeAllPopups}\n              onConfirm={handleCardDelete}\n              isSaving={isSaving}\n            />\n          </ClosablePopup>\n        : ''}\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}